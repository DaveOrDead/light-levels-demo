{"version":3,"sources":["node_modules/light-levels/es/constants/luxSpecNames.js","node_modules/light-levels/es/constants/index.js","node_modules/light-levels/es/utils/getLuxName/getLuxName.js","node_modules/light-levels/es/utils/removeClassesWithPrefix/removeClassesWithPrefix.js","node_modules/light-levels/es/utils/setLightLevel/setLightLevel.js","node_modules/light-levels/es/utils/setLightLevelClasses/setLightLevelClasses.js","node_modules/light-levels/es/utils/useAmbientLightSensor/useAmbientLightSensor.js","node_modules/light-levels/es/utils/useDeviceLight/useDeviceLight.js","node_modules/light-levels/es/utils/index.js","node_modules/light-levels/es/index.js","js/main.js"],"names":["LUX_SPEC_NAMES","Object","freeze","DIM","NORMAL","WASHED","getLuxName","lux","luxName","removeClassesWithPrefix","prefix","classList","split","filter","className","lastIndexOf","join","trim","setLightLevel","replaceLightLevelClassName","prevLuxName","value","setLightLevelClasses","html","document","getElementsByTagName","removeLightLevelClasses","useAmbientLightSensor","callback","sensor","AmbientLightSensor","onreading","illuminance","onerror","e","error","name","console","log","start","useDeviceLight","createDeviceLightSensor","state","isActive","handleDeviceLight","warn","window","addEventListener","stop","removeEventListener","LightLevels","_ref","_ref$prefix","arguments","length","undefined","setClassNames"],"mappings":"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","file":"main.37f95907.js","sourceRoot":"..","sourcesContent":["var LUX_SPEC_NAMES = Object.freeze({\n  DIM: \"dim\",\n  NORMAL: \"normal\",\n  WASHED: \"washed\"\n});\n\nexport default LUX_SPEC_NAMES;","export { default as LUX_SPEC_NAMES } from \"./luxSpecNames\";","import { LUX_SPEC_NAMES } from \"../../constants\";\n\nvar getLuxName = function getLuxName(lux) {\n  var luxName = LUX_SPEC_NAMES.NORMAL;\n  if (lux < 50) {\n    luxName = LUX_SPEC_NAMES.DIM;\n  }\n  if (lux > 1000) {\n    luxName = LUX_SPEC_NAMES.WASHED;\n  }\n  return luxName;\n};\n\nexport default getLuxName;","var removeClassesWithPrefix = function removeClassesWithPrefix(prefix) {\n  return function (classList) {\n    return classList.split(\" \").filter(function (className) {\n      return className.lastIndexOf(prefix, 0) !== 0;\n    }).join(\" \").trim();\n  };\n};\n\nexport default removeClassesWithPrefix;","import getLuxName from \"../getLuxName/getLuxName\";\n\nvar setLightLevel = function setLightLevel(replaceLightLevelClassName, prevLuxName) {\n  return function (value) {\n    var luxName = getLuxName(value);\n    if (prevLuxName != luxName) {\n      prevLuxName = luxName;\n      replaceLightLevelClassName(luxName);\n    }\n  };\n};\n\nexport default setLightLevel;","import removeClassesWithPrefix from \"../removeClassesWithPrefix/removeClassesWithPrefix\";\n\n// Probably only really need to remove previous class applied but figured\n// remove all in case multiple had been applied from elsewhere\nvar setLightLevelClasses = function setLightLevelClasses(prefix) {\n  var html = document.getElementsByTagName(\"html\")[0];\n  var removeLightLevelClasses = removeClassesWithPrefix(prefix);\n\n  return function (luxName) {\n    html.className = (removeLightLevelClasses(html.className) + \" \" + prefix + luxName).trim();\n  };\n};\n\nexport default setLightLevelClasses;","var useAmbientLightSensor = function useAmbientLightSensor(callback) {\n  try {\n    var sensor = new AmbientLightSensor();\n\n    sensor.onreading = function () {\n      return callback(sensor.illuminance);\n    };\n\n    sensor.onerror = function (e) {\n      // Handle runtime errors.\n      if (e.error.name === \"NotAllowedError\") {\n        // Branch to code for requesting permission.\n        console.log(\"Permission to access sensor was denied.\");\n      } else if (e.error.name === \"NotReadableError\") {\n        console.log(\"Cannot connect to the sensor.\");\n      }\n    };\n\n    sensor.start();\n\n    return sensor;\n  } catch (error) {\n    // Handle construction errors.\n    if (error.name === \"SecurityError\") {\n      console.log(\"Sensor construction was blocked by the Feature Policy.\");\n    } else if (error.name === \"ReferenceError\") {\n      console.log(\"Sensor is not supported by the User Agent.\");\n    } else {\n      throw error;\n    }\n  }\n};\n\nexport default useAmbientLightSensor;","var createDeviceLightSensor = function createDeviceLightSensor(callback) {\n  var state = {\n    isActive: false\n  };\n\n  var handleDeviceLight = function handleDeviceLight(e) {\n    return callback(e.value);\n  };\n\n  var start = function start() {\n    if (!state.isActive) {\n      window.addEventListener(\"devicelight\", handleDeviceLight);\n      state.isActive = true;\n    } else {\n      console.warn(\"This instance of LightLevels is already running\");\n    }\n  };\n\n  var stop = function stop() {\n    if (state.isActive) {\n      window.removeEventListener(\"devicelight\", handleDeviceLight);\n      state.isActive = false;\n    } else {\n      console.warn(\"This instance of LightLevels has already been stopped\");\n    }\n  };\n\n  return Object.freeze({\n    start: start,\n    stop: stop\n  });\n};\n\nvar useDeviceLight = function useDeviceLight(callback) {\n  try {\n    var sensor = createDeviceLightSensor(callback);\n    sensor.start();\n    return sensor;\n  } catch (error) {\n    throw error;\n  }\n};\n\nexport default useDeviceLight;","export { default as getLuxName } from \"./getLuxName/getLuxName\";\nexport { default as removeClassesWithPrefix } from \"./removeClassesWithPrefix/removeClassesWithPrefix\";\nexport { default as setLightLevel } from \"./setLightLevel/setLightLevel\";\nexport { default as setLightLevelClasses } from \"./setLightLevelClasses/setLightLevelClasses\";\nexport { default as useAmbientLightSensor } from \"./useAmbientLightSensor/useAmbientLightSensor\";\nexport { default as useDeviceLight } from \"./useDeviceLight/useDeviceLight\";","import { setLightLevel, setLightLevelClasses, useAmbientLightSensor, useDeviceLight } from \"./utils\";\n\nvar LightLevels = function LightLevels() {\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref$prefix = _ref.prefix,\n      prefix = _ref$prefix === undefined ? \"light-level-\" : _ref$prefix;\n\n  var setClassNames = setLightLevel(setLightLevelClasses(prefix));\n\n  if (\"AmbientLightSensor\" in window) {\n    return useAmbientLightSensor(setClassNames);\n  } else if (\"ondevicelight\" in window) {\n    return useDeviceLight(setClassNames);\n  } else {\n    console.error(\"Sorry, your device does not support LightLevels\");\n  }\n};\n\nexport default LightLevels;","import \"../css/main.css\";\n\nimport lightLevels from \"light-levels\";\n\nlightLevels();\n"]}